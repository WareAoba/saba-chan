# Saba-chan í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [í…ŒìŠ¤íŠ¸ ê°œìš”](#í…ŒìŠ¤íŠ¸-ê°œìš”)
2. [ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰](#ë¡œì»¬ì—ì„œ-í…ŒìŠ¤íŠ¸-ì‹¤í–‰)
3. [í…ŒìŠ¤íŠ¸ ì¢…ë¥˜](#í…ŒìŠ¤íŠ¸-ì¢…ë¥˜)
4. [GitHub Actions ìë™í™”](#github-actions-ìë™í™”)
5. [í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€](#í…ŒìŠ¤íŠ¸-ì»¤ë²„ë¦¬ì§€)

## í…ŒìŠ¤íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **ì„¤ì • ì €ì¥/ë¡œë“œ**, **Discord ë´‡ ìë™ì‹¤í–‰** ë“± í•µì‹¬ ê¸°ëŠ¥ì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
electron_gui/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.test.js         # React ì»´í¬ë„ŒíŠ¸ ë° ìë™ì‹¤í–‰ ë¡œì§ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ App.js
â”œâ”€â”€ main.test.js            # Electron Main í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸ (ì„¤ì • íŒŒì¼ I/O)
â””â”€â”€ package.json
```

## ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### 1. í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```powershell
cd electron_gui
npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

### 2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```powershell
# í•œ ë²ˆ ì‹¤í–‰
npm test -- --watchAll=false

# Watch ëª¨ë“œ (íŒŒì¼ ë³€ê²½ ì‹œ ìë™ ì¬ì‹¤í–‰)
npm test

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
npm run test:coverage
```

### 3. í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸

```
PASS  src/App.test.js
  ì„¤ì • ì €ì¥/ë¡œë“œ í…ŒìŠ¤íŠ¸
    âœ“ ì•± ì‹œì‘ ì‹œ ì„¤ì •ì´ ë¡œë“œë˜ì–´ì•¼ í•¨ (152ms)
    âœ“ ì„¤ì • ë¡œë“œ í›„ ìƒíƒœê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ì•¼ í•¨ (89ms)
  Discord ë´‡ ìƒíƒœ í…ŒìŠ¤íŠ¸
    âœ“ ì•± ì‹œì‘ ì‹œ ë´‡ ìƒíƒœë¥¼ í™•ì¸í•´ì•¼ í•¨ (201ms)
  Discord ë´‡ ìë™ì‹¤í–‰ í…ŒìŠ¤íŠ¸
    âœ“ ìë™ì‹¤í–‰ ì„¤ì •ì´ êº¼ì ¸ìˆìœ¼ë©´ ë´‡ì´ ì‹œì‘ë˜ì§€ ì•Šì•„ì•¼ í•¨ (2103ms)
    âœ“ ìë™ì‹¤í–‰ ì„¤ì •ì´ ì¼œì ¸ìˆìœ¼ë©´ ë´‡ì´ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ì–´ì•¼ í•¨ (451ms)
    âœ“ í† í°ì´ ì—†ìœ¼ë©´ ìë™ì‹¤í–‰ë˜ì§€ ì•Šì•„ì•¼ í•¨ (2105ms)
    âœ“ ë´‡ì´ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ë©´ ìë™ì‹¤í–‰ì„ ê±´ë„ˆë›°ì–´ì•¼ í•¨ (2098ms)
    âœ“ ìë™ì‹¤í–‰ì€ ì•± ì‹œì‘ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ (2214ms)

Test Suites: 1 passed, 1 total
Tests:       8 passed, 8 total
```

## í…ŒìŠ¤íŠ¸ ì¢…ë¥˜

### 1. **App.test.js** - React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

#### ì„¤ì • ì €ì¥/ë¡œë“œ í…ŒìŠ¤íŠ¸
- âœ… ì•± ì‹œì‘ ì‹œ `settingsLoad()` í˜¸ì¶œ í™•ì¸
- âœ… ë´‡ ì„¤ì • ë¡œë“œ í™•ì¸ (`botConfigLoad()`)
- âœ… ì„¤ì • ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ìƒíƒœì— ë°˜ì˜ë˜ëŠ”ì§€ í™•ì¸

#### Discord ë´‡ ìƒíƒœ í…ŒìŠ¤íŠ¸
- âœ… ë´‡ ìƒíƒœ í´ë§ (`discordBotStatus()`) í™•ì¸
- âœ… ì´ˆê¸° ìƒíƒœê°€ 'stopped' ë˜ëŠ” 'running'ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ëŠ”ì§€ í™•ì¸

#### Discord ë´‡ ìë™ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- âœ… **ìë™ì‹¤í–‰ OFF**: ë´‡ì´ ì‹œì‘ë˜ì§€ ì•Šì•„ì•¼ í•¨
- âœ… **ìë™ì‹¤í–‰ ON + í† í° ìˆìŒ**: ë´‡ì´ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ì–´ì•¼ í•¨
- âœ… **í† í° ì—†ìŒ**: ìë™ì‹¤í–‰ ì¡°ê±´ ë¯¸ì¶©ì¡±ìœ¼ë¡œ ì‹œì‘ ì•ˆ í•¨
- âœ… **ì´ë¯¸ ì‹¤í–‰ ì¤‘**: ì¤‘ë³µ ì‹œì‘ ë°©ì§€
- âœ… **í•œ ë²ˆë§Œ ì‹¤í–‰**: ì—¬ëŸ¬ ë²ˆ íŠ¸ë¦¬ê±°ë˜ì§€ ì•Šë„ë¡ ë°©ì§€

### 2. **main.test.js** - Electron Main í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸

#### íŒŒì¼ I/O í…ŒìŠ¤íŠ¸
- âœ… ì„¤ì • íŒŒì¼ ì €ì¥ ë° ë¡œë“œ
- âœ… ë´‡ ì„¤ì • íŒŒì¼ ì €ì¥ ë° ë¡œë“œ
- âœ… ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ì²˜ë¦¬ (ê¸°ë³¸ê°’ ë°˜í™˜)
- âœ… ì˜ëª»ëœ JSON í˜•ì‹ ì²˜ë¦¬ (ì˜¤ë¥˜ ë³µêµ¬)
- âœ… ì„¤ì • ê°’ ì—…ë°ì´íŠ¸

## GitHub Actions ìë™í™”

### ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

`.github/workflows/test.yml` íŒŒì¼ì´ ì¶”ê°€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

#### íŠ¸ë¦¬ê±° ì¡°ê±´
- `main` ë˜ëŠ” `develop` ë¸Œëœì¹˜ì— push
- Pull Request ìƒì„±/ì—…ë°ì´íŠ¸

#### ì‹¤í–‰ í™˜ê²½
- Windows ìµœì‹  ë²„ì „
- Node.js 18.x, 20.x (ë§¤íŠ¸ë¦­ìŠ¤ ë¹Œë“œ)

#### ì‹¤í–‰ ë‹¨ê³„
1. ì½”ë“œ ì²´í¬ì•„ì›ƒ
2. Node.js ì„¤ì •
3. ì˜ì¡´ì„± ì„¤ì¹˜ (`npm ci`)
4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (`npm test -- --coverage`)
5. ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ì—…ë¡œë“œ (Codecov)

### GitHubì—ì„œ í™•ì¸í•˜ê¸°

1. GitHub ì €ì¥ì†Œë¡œ ì´ë™
2. **Actions** íƒ­ í´ë¦­
3. ìµœì‹  ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê²°ê³¼ í™•ì¸

## í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

### ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ í™•ì¸

```powershell
npm run test:coverage
```

ì‹¤í–‰ í›„ `coverage/lcov-report/index.html` íŒŒì¼ì„ ë¸Œë¼ìš°ì €ë¡œ ì—´ë©´ ìƒì„¸ ë¦¬í¬íŠ¸ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ëª©í‘œ ì»¤ë²„ë¦¬ì§€

| í•­ëª© | ëª©í‘œ |
|------|------|
| Statements | > 70% |
| Branches | > 60% |
| Functions | > 70% |
| Lines | > 70% |

## ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€í•˜ê¸°

### ì˜ˆì œ: ìƒˆë¡œìš´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

```javascript
// src/App.test.js
test('ìƒˆ ê¸°ëŠ¥ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•´ì•¼ í•¨', async () => {
    // 1. Mock ì„¤ì •
    mockApi.newFeature.mockResolvedValue({ success: true });
    
    // 2. ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
    await act(async () => {
        render(<App />);
    });
    
    // 3. ë™ì‘ í™•ì¸
    await waitFor(() => {
        expect(mockApi.newFeature).toHaveBeenCalled();
    });
});
```

## ë¬¸ì œ í•´ê²°

### í…ŒìŠ¤íŠ¸ê°€ íƒ€ì„ì•„ì›ƒë˜ëŠ” ê²½ìš°

```javascript
await waitFor(() => {
    expect(mockApi.someFunction).toHaveBeenCalled();
}, { timeout: 5000 }); // íƒ€ì„ì•„ì›ƒ ì¦ê°€
```

### Mock í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ” ê²½ìš°

```javascript
console.log(mockApi.someFunction.mock.calls); // í˜¸ì¶œ ë‚´ì—­ í™•ì¸
console.log(mockApi.someFunction.mock.results); // ê²°ê³¼ í™•ì¸
```

### ë¹„ë™ê¸° ìƒíƒœ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜

```javascript
// act() ë¡œ ê°ì‹¸ê¸°
await act(async () => {
    // ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë¹„ë™ê¸° ë™ì‘
});
```

## ì°¸ê³  ìë£Œ

- [Jest ê³µì‹ ë¬¸ì„œ](https://jestjs.io/)
- [React Testing Library](https://testing-library.com/react)
- [GitHub Actions ë¬¸ì„œ](https://docs.github.com/actions)
- [Electron í…ŒìŠ¤íŒ… ê°€ì´ë“œ](https://www.electronjs.org/docs/latest/tutorial/automated-testing)
